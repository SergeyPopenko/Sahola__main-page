

function closeModal(){$(".modal__overlay").fadeOut(),$(".modal").hasClass("modal-show")&&$(".modal").removeClass("modal-show"),$(".modalsend").hasClass("modal-show")&&$(".modalsend").removeClass("modal-show"),$(".modalnosend").hasClass("modal-show")&&$(".modalnosend").removeClass("modal-show")}function modalSendOk(){$(".modal").hasClass("modal-show")&&$(".modal").removeClass("modal-show"),$(".modalsend").addClass("modal-show")}function modalSendFalse(){$(".modal").hasClass("modal-show")&&$(".modal").removeClass("modal-show"),$(".modalnosend").addClass("modal-show")}$(".button__modal").on("click",function(a){a.preventDefault(),$(".modal__overlay").fadeIn(function(){$(".modal").addClass("modal-show")}),$(".modal").find(".inp-hidden").val($(this).attr("data-section")),console.log($(".modal").find(".inp-hidden").val())}),$(".landing__modal__close").on("click",function(a){a.preventDefault(),closeModal()}),$(window).keydown(function(a){"27"==a.which&&(a.preventDefault(),closeModal())}),$(".btn__modal-close").on("click",function(a){a.preventDefault(),closeModal()}),$(".btn__modal-again").on("click",function(a){a.preventDefault(),$(".modalnosend").removeClass("modal-show"),$(".modal").addClass("modal-show")});for(var form=document.querySelectorAll(".modal__form"),i=0;i<form.length;i++)form[i].addEventListener("submit",function(a){var b=this.querySelector(".login"),c=this.querySelector(".email"),d=this.querySelector(".tel");if(!b.value||!c.value||!d.value){a.preventDefault();for(var e=0;e<form.length;e++)form[e].classList.add("modal-error")}});$(".toggle-btn").on("click",function(){$(this).hasClass("foto__toggle-btn")?window.innerWidth<769&&($(this).toggleClass("active"),$(this).next(".toggle-block").slideToggle("slow")):($(this).next(".toggle-block").slideToggle("slow"),$(this).toggleClass("active"))});
    $(".modal__form").on("click", "[type=submit]", function(e){
        var validation = 0,
            action_form = $(this).parent().closest(".modal__form");
        e.preventDefault();

        var $form = $(this).parent().closest(".modal__form");
        $form.validate();
        // check if the input is valid
        if ($form.valid()) { //тут должна была быть валидация
            $.ajax({
                type: "POST",
                url: action_form.attr("action"),
                data: action_form.serialize(),
                success: function() {
                    modalSendOk();
                },
                error: function() {
                    modalSendFalse();
                }
            });
        } else {
            $form.find('[type=submit]').html($form.valid);
        }
    });


   